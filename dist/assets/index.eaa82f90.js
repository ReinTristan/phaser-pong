import{P as r,W as y}from"./vendor.d60f4b93.js";const u=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(t){if(t.ep)return;t.ep=!0;const s=i(t);fetch(t.href,s)}};u();class n extends r.Loader.File{constructor(e,i,a="google"){super(e,{type:"webfont",key:i.toString()});this.fontNames=Array.isArray(i)?i:[i],this.service=a}load(){const e={active:()=>{this.loader.nextFile(this,!0)}};switch(this.service){case"google":e.google={families:this.fontNames};break;default:throw new Error("Unsupported font service")}y.load(e)}}const g="title",f="game",h="gameBackground";class p extends r.Scene{preload(){const e=new n(this.load,"Press Start 2P");this.load.addFile(e)}create(){this.add.text(400,200,"Old School Tennis",{fontSize:38,fontFamily:'"Press Start 2P"'}).setOrigin(.5,.5),this.add.text(400,300,"Press Space to Start",{fontFamily:'"Press Start 2P"'}).setOrigin(.5,.5),this.space=this.input.keyboard.once("keydown-SPACE",()=>{this.scene.start(f)})}}const l=16777215;class b extends r.Scene{init(){this.paddleRightVelocity=new r.Math.Vector2(0,0),this.leftScore=0,this.rightScore=0}preload(){const e=new n(this.load,"Press Start 2P");this.load.addFile(e)}create(){this.scene.run(h),this.scene.sendToBack(h),this.physics.world.setBounds(-100,0,1e3,600),this.ball=this.add.circle(400,300,10,l,1),this.physics.add.existing(this.ball),this.ball.body.setCircle(10),this.ball.body.setBounce(1,1),this.ball.body.setCollideWorldBounds(!0,1,1),this.leftPaddle=this.add.rectangle(50,300,30,100,l,1),this.rightPaddle=this.add.rectangle(750,300,30,100,l,1),this.physics.add.existing(this.leftPaddle,!0),this.physics.add.existing(this.rightPaddle,!0),this.physics.add.collider(this.leftPaddle,this.ball),this.physics.add.collider(this.rightPaddle,this.ball);const e={fontSize:48,fontFamily:'"Press Start 2P"'};this.leftScoreLabel=this.add.text(300,125,"0",e).setOrigin(.5,.5),this.rightScoreLabel=this.add.text(500,125,"0",e).setOrigin(.5,.5),this.cursors=this.input.keyboard.createCursorKeys(),this.time.delayedCall(1500,()=>{this.resetBall()})}update(){this.playerMov(),this.updateAI(),this.checkScore()}playerMov(){const e=this.leftPaddle.body;this.cursors.up.isDown?(this.leftPaddle.y-=10,e.updateFromGameObject()):this.cursors.down.isDown&&(this.leftPaddle.y+=10,e.updateFromGameObject())}updateAI(){const e=this.ball.y-this.rightPaddle.y;if(Math.abs(e)<10)return;const i=3;e<0?(this.paddleRightVelocity.y=-i,this.paddleRightVelocity.y<-10&&(this.paddleRightVelocity.y=-10)):e>0&&(this.paddleRightVelocity.y=i,this.paddleRightVelocity.y>10&&(this.paddleRightVelocity.y=10)),this.rightPaddle.y+=this.paddleRightVelocity.y,this.rightPaddle.body.updateFromGameObject()}checkScore(){this.ball.x<-30?(this.resetBall(),this.incrementRightScore()):this.ball.x>830&&(this.resetBall(),this.incrementLeftScore())}incrementLeftScore(){this.leftScore++,this.leftScoreLabel.text=this.leftScore}incrementRightScore(){this.rightScore++,this.rightScoreLabel.text=this.rightScore}resetBall(){this.ball.setPosition(400,300);let e=r.Math.Between(0,360);const i=this.physics.velocityFromAngle(e,200);this.ball.body.setVelocity(i.x,i.y)}}class S extends r.Scene{create(){this.add.line(400,300,0,0,0,600,l,1).setLineWidth(2.5,2.5),this.add.arc(400,300,50).setStrokeStyle(5,l,1)}}const m={width:800,height:600,type:r.AUTO,physics:{default:"arcade",arcade:{gravity:{y:0},debug:!0}}},d=new r.Game(m);d.scene.add(g,p);d.scene.add(f,b);d.scene.add(h,S);d.scene.start("title");
